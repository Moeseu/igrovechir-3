<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: Georgia, serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f3f0;
            color: #2c2c2c;
        }

        h1 {
            text-align: center;
            color: #8B4513;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            text-align: center;
            font-size: 1.2em;
            color: #666;
            margin-bottom: 40px;
            font-style: italic;
        }

        .stats-header {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .stat-card {
            background: linear-gradient(135deg, #8B4513, #A0522D);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
            min-width: 150px;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 1em;
            opacity: 0.9;
        }

        .question-result {
            background: white;
            padding: 30px;
            margin: 30px 0;
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
            border-left: 6px solid #8B4513;
        }

        .question-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #8B4513;
            margin-bottom: 20px;
            text-align: center;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .option-card {
            background: #f8f8f8;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #8B4513;
            transition: transform 0.2s;
        }

        .option-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .option-name {
            font-weight: bold;
            color: #8B4513;
            margin-bottom: 5px;
        }

        .option-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .vote-count {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c2c2c;
        }

        .percentage {
            background: #8B4513;
            color: white;
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.9em;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin: 8px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8B4513, #A0522D);
            border-radius: 4px;
            transition: width 0.8s ease;
        }

        .back-button {
            background-color: #8B4513;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            display: block;
            margin: 40px auto;
            transition: background-color 0.3s;
            text-decoration: none;
        }

        .back-button:hover {
            background-color: #A0522D;
        }

        .winner-badge {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #8B4513;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }
    </style>
</head>
<body>
<h1>üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è üìä</h1>
<div class="subtitle">–í–µ—á—ñ—Ä –Ω–∞—Å—Ç–æ–ª–æ–∫ - —â–æ –¥—É–º–∞—î –Ω–∞—à–∞ –∫–æ–º–ø–∞–Ω—ñ—è?</div>

<div class="stats-header">
    <div class="stat-card">
        <span class="stat-number" id="totalVotes">0</span>
        <span class="stat-label">–í—Å—å–æ–≥–æ –≥–æ–ª–æ—Å—ñ–≤</span>
    </div>
    <div class="stat-card">
        <span class="stat-number" id="totalParticipants">0</span>
        <span class="stat-label">–£—á–∞—Å–Ω–∏–∫—ñ–≤</span>
    </div>
    <div class="stat-card">
        <span class="stat-number">4</span>
        <span class="stat-label">–ü–∏—Ç–∞–Ω–Ω—è</span>
    </div>
</div>

<div class="question-result">
    <div class="question-title">üéØ –Ø–∫–∞ –Ω–∞—Å—Ç—ñ–ª—å–Ω–∞ –≥—Ä–∞ —î –ø–µ—Ä–µ–æ—Ü—ñ–Ω–µ–Ω–æ—é?</div>
    <div class="chart-container">
        <canvas id="chart1"></canvas>
    </div>
    <div class="options-grid">
        <div class="option-card" id="q1-monopoly">
            <div class="option-name">üè† –ú–æ–Ω–æ–ø–æ–ª—ñ—è</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q1-fool">
            <div class="option-name">üÉè –î—É—Ä–µ–Ω—å</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q1-js">
            <div class="option-name">üíª JavaScript (—Ü–µ –Ω–µ –≥—Ä–∞, –∞–ª–µ –≤—Å–µ –æ–¥–Ω–æ)</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q1-uno">
            <div class="option-name">üî¥ UNO</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
    </div>
</div>

<div class="question-result">
    <div class="question-title">üéÆ –í–∞—à —Å—Ç–∏–ª—å –≥—Ä–∏?</div>
    <div class="chart-container">
        <canvas id="chart2"></canvas>
    </div>
    <div class="options-grid">
        <div class="option-card" id="q2-competitive">
            <div class="option-name">üèÜ –ì—Ä–∞—é —Ç—ñ–ª—å–∫–∏ –Ω–∞ –ø–µ—Ä–µ–º–æ–≥—É</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q2-fun">
            <div class="option-name">üéâ –ì–æ–ª–æ–≤–Ω–µ - –≤–µ—Å–µ–ª–æ—â—ñ</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q2-chaos">
            <div class="option-name">üå™Ô∏è –õ—é–±–ª—é —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ö–∞–æ—Å</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q2-strategic">
            <div class="option-name">üß† –í—Å–µ –ø–ª–∞–Ω—É—é –Ω–∞–ø–µ—Ä–µ–¥</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
    </div>
</div>

<div class="question-result">
    <div class="question-title">üò§ –©–æ —Ä–æ–±–∏—Ç–µ, –∫–æ–ª–∏ –ø—Ä–æ–≥—Ä–∞—î—Ç–µ?</div>
    <div class="chart-container">
        <canvas id="chart3"></canvas>
    </div>
    <div class="options-grid">
        <div class="option-card" id="q3-analyze">
            <div class="option-name">üîç –ê–Ω–∞–ª—ñ–∑—É—é —Å–≤–æ—ó –ø–æ–º–∏–ª–∫–∏</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q3-blame">
            <div class="option-name">üé≤ –ó–≤–∏–Ω—É–≤–∞—á—É—é –≤–µ–∑—ñ–Ω–Ω—è</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q3-laugh">
            <div class="option-name">üòÑ –°–º—ñ—é—Å—è —ñ –π–¥—É –¥–∞–ª—ñ</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q3-revenge">
            <div class="option-name">üòà –ü–ª–∞–Ω—É—é –ø–æ–º—Å—Ç—É</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
    </div>
</div>

<div class="question-result">
    <div class="question-title">üò† –ù–∞–π–≥—ñ—Ä—à–∏–π —Ç–∏–ø –≥—Ä–∞–≤—Ü—è?</div>
    <div class="chart-container">
        <canvas id="chart4"></canvas>
    </div>
    <div class="options-grid">
        <div class="option-card" id="q4-cheater">
            <div class="option-name">üëÄ –¢–æ–π, —Ö—Ç–æ –ø—ñ–¥–≥–ª—è–¥–∞—î</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q4-slow">
            <div class="option-name">‚è∞ –¢–æ–π, —Ö—Ç–æ –¥—É–∂–µ –¥–æ–≤–≥–æ –¥—É–º–∞—î</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q4-rules">
            <div class="option-name">üìã –¢–æ–π, —Ö—Ç–æ –ø–æ—Å—Ç—ñ–π–Ω–æ –∑–º—ñ–Ω—é—î –ø—Ä–∞–≤–∏–ª–∞</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
        <div class="option-card" id="q4-phone">
            <div class="option-name">üì± –¢–æ–π, —Ö—Ç–æ —Å–∏–¥–∏—Ç—å –≤ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ</div>
            <div class="progress-bar"><div class="progress-fill" style="width: 0%"></div></div>
            <div class="option-stats">
                <span class="vote-count">0 –≥–æ–ª–æ—Å—ñ–≤</span>
                <span class="percentage">0%</span>
            </div>
        </div>
    </div>
</div>

<!--<a href="/vote" class="back-button">üé≤ –ü—Ä–æ–≥–æ–ª–æ—Å—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑ üéØ</a>-->

<script>
    // –ú–∞–ø–∞ –Ω–∞–∑–≤ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ
    const optionNames = {
        q1: {
            monopoly: 'üè† –ú–æ–Ω–æ–ø–æ–ª—ñ—è',
            fool: 'üÉè –î—É—Ä–µ–Ω—å',
            js: 'üíª JavaScript',
            uno: 'üî¥ UNO'
        },
        q2: {
            competitive: 'üèÜ –ù–∞ –ø–µ—Ä–µ–º–æ–≥—É',
            fun: 'üéâ –í–µ—Å–µ–ª–æ—â—ñ',
            chaos: 'üå™Ô∏è –•–∞–æ—Å',
            strategic: 'üß† –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è'
        },
        q3: {
            analyze: 'üîç –ê–Ω–∞–ª—ñ–∑—É—é',
            blame: 'üé≤ –ó–≤–∏–Ω—É–≤–∞—á—É—é',
            laugh: 'üòÑ –°–º—ñ—é—Å—è',
            revenge: 'üòà –ü–æ–º—Å—Ç–∞'
        },
        q4: {
            cheater: 'üëÄ –ü—ñ–¥–≥–ª—è–¥–∞—î',
            slow: '‚è∞ –î–æ–≤–≥–æ –¥—É–º–∞—î',
            rules: 'üìã –ó–º—ñ–Ω—é—î –ø—Ä–∞–≤–∏–ª–∞',
            phone: 'üì± –í —Ç–µ–ª–µ—Ñ–æ–Ω—ñ'
        }
    };

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∑ —Å–µ—Ä–≤–µ—Ä–∞
    async function loadVotingResults() {
        try {
            // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –¥–∞–Ω—ñ –∑ —Å–µ—Ä–≤–µ—Ä–∞
            const response = await fetch('/api/voting-results');
            const data = await response.json();

            updateStatistics(data);
            updateQuestionResults(data);
            createCharts(data);

        } catch (error) {
            console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤:', error);
            // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ—Ä–æ–∂–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ
            showEmptyResults();
        }
    }

    // –§—É–Ω–∫—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    function updateStatistics(data) {
        document.getElementById('totalVotes').textContent = data.totalVotes || 0;
        document.getElementById('totalParticipants').textContent = data.totalParticipants || 0;
    }

    // –§—É–Ω–∫—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ø–∏—Ç–∞–Ω—å
    function updateQuestionResults(data) {
        ['q1', 'q2', 'q3', 'q4'].forEach(questionId => {
            const questionData = data.questions[questionId];
            if (questionData) {
                updateQuestion(questionId, questionData);
            }
        });
    }

    // –§—É–Ω–∫—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–Ω—è
    function updateQuestion(questionId, questionData) {
        const totalVotes = Object.values(questionData).reduce((sum, count) => sum + count, 0);

        // –ó–Ω–∞—Ö–æ–¥–∏–º–æ –ª—ñ–¥–µ—Ä–∞
        let maxVotes = 0;
        let leader = null;
        Object.entries(questionData).forEach(([option, votes]) => {
            if (votes > maxVotes) {
                maxVotes = votes;
                leader = option;
            }
        });

        Object.entries(questionData).forEach(([option, votes]) => {
            const percentage = totalVotes > 0 ? Math.round((votes / totalVotes) * 100) : 0;
            const cardId = `${questionId}-${option}`;
            const card = document.getElementById(cardId);

            if (card) {
                // –û–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä
                const progressFill = card.querySelector('.progress-fill');
                progressFill.style.width = percentage + '%';

                // –û–Ω–æ–≤–ª—é—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥–æ–ª–æ—Å—ñ–≤
                const voteCount = card.querySelector('.vote-count');
                voteCount.textContent = `${votes} ${getVoteWord(votes)}`;

                // –û–Ω–æ–≤–ª—é—î–º–æ –≤—ñ–¥—Å–æ—Ç–æ–∫
                const percentageSpan = card.querySelector('.percentage');
                percentageSpan.textContent = percentage + '%';

                // –î–æ–¥–∞—î–º–æ –∑–Ω–∞—á–æ–∫ –ª—ñ–¥–µ—Ä–∞
                const optionName = card.querySelector('.option-name');
                if (option === leader && votes > 0) {
                    if (!optionName.querySelector('.winner-badge')) {
                        optionName.innerHTML += ' <span class="winner-badge">üëë –õ–Ü–î–ï–†</span>';
                    }
                }
            }
        });
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ñ–¥–º—ñ–Ω—é–≤–∞–Ω–Ω—è —Å–ª–æ–≤–∞ "–≥–æ–ª–æ—Å"
    function getVoteWord(count) {
        if (count === 1) return '–≥–æ–ª–æ—Å';
        if (count >= 2 && count <= 4) return '–≥–æ–ª–æ—Å–∏';
        return '–≥–æ–ª–æ—Å—ñ–≤';
    }

    // –§—É–Ω–∫—Ü—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥—ñ–∞–≥—Ä–∞–º
    function createCharts(data) {
        const colors = [
            ['#8B4513', '#A0522D', '#CD853F', '#D2B48C'],
            ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4'],
            ['#FFD93D', '#FF6B6B', '#6BCF7F', '#4D96FF'],
            ['#FF4757', '#3742FA', '#2ED573', '#FFA502']
        ];

        ['q1', 'q2', 'q3', 'q4'].forEach((questionId, index) => {
            const questionData = data.questions[questionId];
            if (questionData) {
                const chartData = Object.values(questionData);
                const labels = Object.keys(questionData).map(key =>
                    optionNames[questionId][key] || key
                );

                createChart(`chart${index + 1}`, chartData, labels, colors[index]);
            }
        });
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä–æ–≤–∏—Ö –¥—ñ–∞–≥—Ä–∞–º
    function createChart(canvasId, data, labels, colors) {
        const ctx = document.getElementById(canvasId).getContext('2d');
        return new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: labels,
                datasets: [{
                    data: data,
                    backgroundColor: colors,
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            font: {
                                size: 12
                            }
                        }
                    }
                },
                animation: {
                    animateRotate: true,
                    duration: 1000
                }
            }
        });
    }

    // –§—É–Ω–∫—Ü—ñ—è –ø–æ–∫–∞–∑—É –ø–æ—Ä–æ–∂–Ω—ñ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
    function showEmptyResults() {
        // –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ—Ä–æ–∂–Ω—ñ –¥—ñ–∞–≥—Ä–∞–º–∏
        const emptyData = [0, 0, 0, 0];
        const colors = [
            ['#8B4513', '#A0522D', '#CD853F', '#D2B48C'],
            ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4'],
            ['#FFD93D', '#FF6B6B', '#6BCF7F', '#4D96FF'],
            ['#FF4757', '#3742FA', '#2ED573', '#FFA502']
        ];

        ['q1', 'q2', 'q3', 'q4'].forEach((questionId, index) => {
            const labels = Object.values(optionNames[questionId]);
            createChart(`chart${index + 1}`, emptyData, labels, colors[index]);
        });
    }

    // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    window.addEventListener('load', function() {
        loadVotingResults();

        // –ê–Ω—ñ–º–∞—Ü—ñ—è –ø–æ—è–≤–∏ –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä—ñ–≤
        const progressBars = document.querySelectorAll('.progress-fill');
        progressBars.forEach((bar, index) => {
            setTimeout(() => {
                bar.style.transition = 'width 0.8s ease';
            }, index * 100);
        });
    });

    // –ê–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥
    setInterval(loadVotingResults, 30000);
</script>
</body>
</html>